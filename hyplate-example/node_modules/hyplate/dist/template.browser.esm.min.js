import{i as o,n as t,c as e,o as n,w as s,a as c,r,d as a}from"./core-ca3c266f.js";import{enterHooks as f,quitHooks as i,createHooks as l}from"./hooks.browser.esm.min.js";import{h as m,e as d,p,o as h,d as u}from"./store-adc1c31e.js";const E=t=>t instanceof HTMLTemplateElement?t:m(o("template"),{innerHTML:t}),j=()=>class extends HTMLElement{};let T=0;const w=o=>o??"hype-"+T++,y=(s,c)=>{const a=E(s);return s=>{const m=w(c),E=`${m}-slot`;return customElements.define(m,j()),customElements.define(E,j()),c=>j=>{const T=[],w=c.children,y=o(m),H=j(y),L=y.attachShadow({mode:"open"});if(L.appendChild(t(a.content)),w)for(const[o,t]of Object.entries(w)){if(null==t)continue;const s=document.createElement(E);if(d(t)){const[o]=t(e(s));p(T,o)}else e(s)(t);n(y,o,s)}const[M,b]=l({host:L,parent:H});f(M);const x=s?.(c);i();return[h((()=>{b(),u(T)(),(()=>{for(const o of Array.from(L.childNodes))r(o);for(const o of Array.from(y.childNodes))r(o);r(y)})()})),x,()=>[y,y]]}}},H=(o,e)=>{const n=E(o);return w(e),o=>e=>m=>{const E=[],j=e.children,[T,[w,y,H]]=s(),L=t(n.content);m(w);const M=m(L);if(m(y),j){const o=c(M,"slot");for(const t of o){const o=j[t.name];if(null==o)continue;const e=a(t);if(d(o)){const[t]=o(e);p(E,t)}else e(o);r(t)}}const[b,x]=l({host:M,parent:M});f(b);const A=o?.(e);i();return[h((()=>{x(),u(E)(),H(),T()})),A,()=>[w,y]]}};export{H as replaced,y as shadowed,E as template};
